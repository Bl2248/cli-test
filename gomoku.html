<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gomoku (Five in a Row)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f0f0f0;
        }
        
        h1 {
            color: #333;
            margin-bottom: 10px;
        }
        
        .game-info {
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .board {
            display: grid;
            grid-template-columns: repeat(15, 30px);
            grid-template-rows: repeat(15, 30px);
            gap: 0;
            border: 2px solid #8B4513;
            background-color: #DEB887;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }
        
        .cell {
            width: 30px;
            height: 30px;
            border: 1px solid #8B4513;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            position: relative;
        }
        
        .cell::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: transparent;
        }
        
        .piece {
            width: 26px;
            height: 26px;
            border-radius: 50%;
            z-index: 2;
        }
        
        .black {
            background: radial-gradient(circle at 30% 30%, #000, #333);
            box-shadow: 0 0 5px rgba(0,0,0,0.8);
        }
        
        .white {
            background: radial-gradient(circle at 30% 30%, #fff, #ccc);
            box-shadow: 0 0 5px rgba(0,0,0,0.5);
        }
        
        .controls {
            margin-top: 20px;
        }
        
        button {
            padding: 10px 15px;
            font-size: 16px;
            margin: 0 5px;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
        }
        
        button:hover {
            background-color: #45a049;
        }
        
        .winning-piece {
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <h1>Gomoku (Five in a Row)</h1>
    <div class="game-info">Current Player: <span id="current-player">Black</span></div>
    <div class="board" id="board"></div>
    <div class="controls">
        <button id="reset-btn">Reset Game</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const board = document.getElementById('board');
            const currentPlayerDisplay = document.getElementById('current-player');
            const resetBtn = document.getElementById('reset-btn');
            
            const BOARD_SIZE = 15;
            let gameBoard = Array(BOARD_SIZE).fill().map(() => Array(BOARD_SIZE).fill(0));
            let currentPlayer = 1; // 1 for black, 2 for white
            let gameOver = false;
            let winningCells = [];
            
            // Create the board cells
            for (let row = 0; row < BOARD_SIZE; row++) {
                for (let col = 0; col < BOARD_SIZE; col++) {
                    const cell = document.createElement('div');
                    cell.classList.add('cell');
                    cell.dataset.row = row;
                    cell.dataset.col = col;
                    
                    cell.addEventListener('click', () => handleCellClick(row, col));
                    board.appendChild(cell);
                }
            }
            
            function handleCellClick(row, col) {
                if (gameOver || gameBoard[row][col] !== 0) return;
                
                // Place the piece
                gameBoard[row][col] = currentPlayer;
                const cell = document.querySelector(`.cell[data-row="${row}"][data-col="${col}"]`);
                const piece = document.createElement('div');
                piece.classList.add('piece', currentPlayer === 1 ? 'black' : 'white');
                cell.appendChild(piece);
                
                // Check for win
                if (checkWin(row, col)) {
                    gameOver = true;
                    highlightWinningPieces();
                    const winner = currentPlayer === 1 ? 'Black' : 'White';
                    currentPlayerDisplay.textContent = `${winner} wins!`;
                    return;
                }
                
                // Switch player
                currentPlayer = currentPlayer === 1 ? 2 : 1;
                currentPlayerDisplay.textContent = currentPlayer === 1 ? 'Black' : 'White';
            }
            
            function checkWin(row, col) {
                const player = gameBoard[row][col];
                winningCells = [];
                
                // Directions: [row, col] - horizontal, vertical, diagonal, anti-diagonal
                const directions = [
                    [0, 1],   // horizontal
                    [1, 0],   // vertical
                    [1, 1],   // diagonal
                    [1, -1]   // anti-diagonal
                ];
                
                for (const [dRow, dCol] of directions) {
                    let count = 1; // Include the current piece
                    let tempWinningCells = [[row, col]];
                    
                    // Check in positive direction
                    let r = row + dRow;
                    let c = col + dCol;
                    while (r >= 0 && r < BOARD_SIZE && c >= 0 && c < BOARD_SIZE && gameBoard[r][c] === player) {
                        count++;
                        tempWinningCells.push([r, c]);
                        r += dRow;
                        c += dCol;
                    }
                    
                    // Check in negative direction
                    r = row - dRow;
                    c = col - dCol;
                    while (r >= 0 && r < BOARD_SIZE && c >= 0 && c < BOARD_SIZE && gameBoard[r][c] === player) {
                        count++;
                        tempWinningCells.push([r, c]);
                        r -= dRow;
                        c -= dCol;
                    }
                    
                    if (count >= 5) {
                        winningCells = tempWinningCells;
                        return true;
                    }
                }
                
                return false;
            }
            
            function highlightWinningPieces() {
                for (const [row, col] of winningCells) {
                    const cell = document.querySelector(`.cell[data-row="${row}"][data-col="${col}"]`);
                    const piece = cell.querySelector('.piece');
                    if (piece) {
                        piece.classList.add('winning-piece');
                    }
                }
            }
            
            function resetGame() {
                gameBoard = Array(BOARD_SIZE).fill().map(() => Array(BOARD_SIZE).fill(0));
                currentPlayer = 1;
                gameOver = false;
                winningCells = [];
                
                currentPlayerDisplay.textContent = 'Black';
                
                // Clear the board
                const cells = document.querySelectorAll('.cell');
                cells.forEach(cell => {
                    cell.innerHTML = '';
                });
            }
            
            resetBtn.addEventListener('click', resetGame);
        });
    </script>
</body>
</html>